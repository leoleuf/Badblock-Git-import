package fr.xmalware.badblock.others.utils;

import fr.badblock.ladder.api.entities.Connection;
import fr.badblock.ladder.api.entities.Player;
import fr.xmalware.badblock.api.I18N;

public class AntiHackColor {
	
	public static boolean isHacking(Connection sender, String message) {
		String lastChar = "";
		boolean ok = true;
		boolean cheat = false;
		for (Character c : message.toCharArray()) {
			if (!ok)
				if (c.isDigit(c)) cheat = true;
			if (lastChar.equals("&") && c.toString().equals("&")) ok = false;
			else ok = true;
			lastChar = c.toString();
		}
		if (!cheat) return false;
		if (!(sender instanceof Player)) return true;
		Player player = (Player) sender;
		player.sendMessage(I18N.getTranslatedMessage("commands.antihackcolor")); 
		return true;
	}

}
