package fr.xmalware.badblock.others.commands.mod;

import fr.badblock.ladder.api.commands.Command;
import fr.badblock.ladder.api.entities.CommandSender;
import fr.badblock.ladder.api.entities.Player;
import fr.xmalware.badblock.others.friends.FriendPlayer;
import fr.xmalware.badblock.others.utils.I18N;

public class BadFilterCommand extends Command {

	public static String prefix = "§8[§bMP §c§lSPY§8] §f";

	public BadFilterCommand() {
		super("badfilter", "others.mod.badfilter", "bf");
	}

	@Override
	public void executeCommand(CommandSender sender, String[] args) {
		if (!(sender instanceof Player)) {
			sender.sendMessage(I18N.getTranslatedMessage("msg.badfilter.permission"));
			return;
		}
		Player player = (Player) sender;
		FriendPlayer fromPlayer = FriendPlayer.get(player);
		if (fromPlayer == null)
			return;
		if (fromPlayer.badfilter) {
			fromPlayer.badfilter = false;
			player.sendMessage(I18N.getTranslatedMessage("msg.badfilter.disabled"));
			fromPlayer.hasNewChanges = true;
		} else {
			fromPlayer.badfilter = true;
			player.sendMessage(I18N.getTranslatedMessage("msg.badfilter.enabled"));
			fromPlayer.hasNewChanges = true;
		}
	}

}
