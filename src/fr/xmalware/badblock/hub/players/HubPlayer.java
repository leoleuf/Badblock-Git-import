package fr.xmalware.badblock.hub.players;

import fr.badblock.gameapi.players.BadblockPlayer;
import fr.xmalware.badblock.hub.config.ConfigLoader;
import fr.xmalware.badblock.hub.inventories.BukkitInventories;
import lombok.Data;

@Data public class HubPlayer {

	private BadblockPlayer player;
	
	public HubPlayer(BadblockPlayer player) {
		this.setPlayer(player);
	}
	
	public HubPlayer loadAll() {
		loadData();
		loadPlayer();
		return this;
	}
	
	public HubPlayer loadData() {
		// TODO: load HubStoredPlayer
		return this;
	}
	
	public HubPlayer loadPlayer() {
		// TODO: load player : locations/inventories...
		if (!isOnline()) return this;
		getPlayer().teleport(ConfigLoader.getLoc().getSpawn());
		BukkitInventories.giveDefaultInventory(getPlayer());
		return this;
	}
	
	public boolean isOnline() {
		return getPlayer().isOnline();
	}
	
	public static HubPlayer initialize(BadblockPlayer player) {
		return new HubPlayer(player);
	}
	
}
