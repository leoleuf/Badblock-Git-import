package fr.xmalware.badblock.hub.inventories;

import java.util.HashMap;
import java.util.Map;

import org.bukkit.Location;
import org.bukkit.entity.EntityType;

import fr.badblock.gameapi.packets.watchers.WatcherBlaze;
import fr.badblock.gameapi.packets.watchers.WatcherCreeper;
import fr.badblock.gameapi.packets.watchers.WatcherEnderman;
import fr.badblock.gameapi.packets.watchers.WatcherLivingEntity;
import fr.badblock.gameapi.packets.watchers.WatcherSkeleton;
import fr.badblock.gameapi.packets.watchers.WatcherVillager;
import fr.badblock.gameapi.packets.watchers.WatcherZombie;
import fr.badblock.gameapi.utils.ConfigUtils;
import fr.badblock.gameapi.utils.i18n.TranslatableString;
import fr.xmalware.badblock.hub.BadBlockHub;
import fr.xmalware.badblock.hub.inventories.abstracts.inventories.CustomInventory;
import fr.xmalware.badblock.hub.inventories.selector.submenus.inventories.PearlsWarChooserInventory;
import fr.xmalware.badblock.hub.inventories.selector.submenus.inventories.RushChooserInventory;
import fr.xmalware.badblock.hub.inventories.selector.submenus.inventories.SpaceBallsChooserInventory;
import fr.xmalware.badblock.hub.inventories.selector.submenus.inventories.SpeedUHCChooserInventory;
import fr.xmalware.badblock.hub.inventories.selector.submenus.inventories.SurvivalGamesChooserInventory;
import fr.xmalware.badblock.hub.inventories.selector.submenus.inventories.TowerChooserInventory;
import fr.xmalware.badblock.hub.riders.MountManager;
import lombok.Getter;

public class LinkedInventoryEntity {

	@Getter private static Map<Location, CustomInventory> data = new HashMap<>();
	
	public static void assign(Location location, CustomInventory customInventory) {
		data.put(location, customInventory);
	}

	public static void createAndAssign(Location location, EntityType entityType, Class<? extends WatcherLivingEntity> watcherEntity, String displayNameKey, Class<? extends CustomInventory> customInventory) {
		MountManager.spawn(location, entityType, watcherEntity, false, false, false, false, new TranslatableString(displayNameKey));
		assign(location, CustomInventory.get(customInventory));
	}

	public static void createAndAssign(String node, EntityType entityType, Class<? extends WatcherLivingEntity> watcherEntity, String displayNameKey, Class<? extends CustomInventory> customInventory) {
		createAndAssign(ConfigUtils.getLocation(BadBlockHub.getInstance(), node), entityType, watcherEntity, displayNameKey, customInventory);
	}

	public static void load() {
		createAndAssign("gamepnj.tower", EntityType.ZOMBIE, WatcherZombie.class, "hub.gamepnj.tower", TowerChooserInventory.class);
		createAndAssign("gamepnj.rush", EntityType.VILLAGER, WatcherVillager.class, "hub.gamepnj.rush", RushChooserInventory.class);
		createAndAssign("gamepnj.pearlswar", EntityType.ENDERMAN, WatcherEnderman.class, "hub.gamepnj.pearlswar", PearlsWarChooserInventory.class);
		createAndAssign("gamepnj.spaceballs", EntityType.CREEPER, WatcherCreeper.class, "hub.gamepnj.spaceballs", SpaceBallsChooserInventory.class);
		createAndAssign("gamepnj.speeduhc", EntityType.BLAZE, WatcherBlaze.class, "hub.gamepnj.speeduhc", SpeedUHCChooserInventory.class);
		createAndAssign("gamepnj.survivalgames", EntityType.SKELETON, WatcherSkeleton.class, "hub.gamepnj.survivalgames", SurvivalGamesChooserInventory.class);
	}
	
}
