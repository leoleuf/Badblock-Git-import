package fr.xmalware.badblock.hub.listeners.battle;

import java.util.ArrayList;
import java.util.List;

import fr.badblock.gameapi.players.BadblockPlayer;
import fr.xmalware.badblock.hub.BadBlockHub;

public class Battle {

	public static List<BadblockPlayer> players = new ArrayList<>();
	
	public static void npcClick(BadblockPlayer player) {
		long alivePlayers = players.parallelStream().filter(playerZ -> playerZ.isOnline() && playerZ.isValid() && BadBlockHub.getInstance().getBattleArena().isInSelection(playerZ)).count();
		if (alivePlayers >= BadBlockHub.getInstance().getBattlePlayersLimit() && !player.hasPermission("hub.vip.bypassbattleplayerslimit")) {
			player.sendTranslatedMessage("hub.battle.oversized", alivePlayers, BadBlockHub.getInstance().getBattlePlayersLimit());
			return;
		}
	}
	
}
