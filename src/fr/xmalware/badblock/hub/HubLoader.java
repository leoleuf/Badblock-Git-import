package fr.xmalware.badblock.hub;

import java.io.File;

import fr.badblock.gameapi.BadblockPlugin;
import fr.badblock.gameapi.GameAPI;
import fr.xmalware.badblock.hub.commands.CommandsLoader;
import fr.xmalware.badblock.hub.config.ConfigLoader;
import fr.xmalware.badblock.hub.inventories.InventoriesLoader;
import fr.xmalware.badblock.hub.listeners.ListenerPackages;
import fr.xmalware.badblock.hub.protectors.HubMapProtector;
import fr.xmalware.badblock.hub.rabbit.RabbitLoader;

public class HubLoader {

	public static void load(BadblockPlugin plugin) {
		// Load configuration
		ConfigLoader.load(plugin);
		// Linked servers
		RabbitLoader.load();
		// Load listeners
		ListenerPackages.load(plugin);
		// Load commands
		CommandsLoader.load(plugin);
		// Load inventories
		InventoriesLoader.loadInventories(plugin);
		// Load API
		GameAPI api = plugin.getAPI();
		api.formatChat(true, false, "hub");
		api.getBadblockScoreboard().doGroupsPrefix();
		api.setMapProtector(new HubMapProtector());
		api.managePortals(new File(plugin.getDataFolder(), "portals"));

	}
	
}
	