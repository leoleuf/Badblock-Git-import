package fr.xmalware.badblock.hub.riders.custom;

import java.lang.reflect.Field;

import org.bukkit.craftbukkit.v1_8_R3.util.UnsafeList;

import net.minecraft.server.v1_8_R3.EntityHuman;
import net.minecraft.server.v1_8_R3.EntityVillager;
import net.minecraft.server.v1_8_R3.PathfinderGoalLookAtPlayer;
import net.minecraft.server.v1_8_R3.PathfinderGoalSelector;
import net.minecraft.server.v1_8_R3.World;



public class CustomVillager extends EntityVillager {
	
	public CustomVillager(World world) {
		super(world);
		this.setProfession(1);
		
		try {
			Field bfield = PathfinderGoalSelector.class.getDeclaredField("b");
			bfield.setAccessible(true);
			Field cfield = PathfinderGoalSelector.class.getDeclaredField("c");
			cfield.setAccessible(true);

			bfield.set(goalSelector, new UnsafeList<PathfinderGoalSelector>());
			bfield.set(targetSelector, new UnsafeList<PathfinderGoalSelector>());
			cfield.set(goalSelector, new UnsafeList<PathfinderGoalSelector>());
			cfield.set(targetSelector, new UnsafeList<PathfinderGoalSelector>());
			
		} catch (Exception e) {
			e.printStackTrace();
		}
		setUp();
	}
	
	public void setUp() {
		this.goalSelector.a(10, new PathfinderGoalLookAtPlayer(this, EntityHuman.class, 8.0F));
	}
	
	@Override
	public void move(double d0, double d1, double d2) {
		
	}
	
}