package fr.xmalware.badblock.automessage;

import java.io.File;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.List;

import lombok.Data;

@Data public class AutoMessageConfig {

	private List<InsistentMessage> insistentMessages;

	public AutoMessageConfig() {
		this.setInsistentMessages(new ArrayList<>());
		this.getInsistentMessages().add(new InsistentMessage(10, new String[] { "test" }));
		// save all messages
		try {
			AutoMessage autoMessage = AutoMessage.getInstance();
			PrintWriter writer = new PrintWriter(new File(autoMessage.getDataFolder(), "config.json"), "UTF-8");
			writer.print(autoMessage.getGson().toJson(this));
			writer.close();
		}catch(Exception error) {
			error.printStackTrace();
		}
	}

}
